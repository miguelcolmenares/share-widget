(()=>{"use strict";class t{constructor({color:t="",name:e="",network:n=""}){this.button=document.createElement("a"),this.color=t,this.icon=n,this.name=e,this.network=n,this.shareData={title:encodeURI(document.title),url:window.location.href}}render(){if(!this.name.length)return"";const t=/iPad|iPhone|iPod/.test(navigator.userAgent),e=/Android/i.test(navigator.userAgent);this.button.classList.add("sh-w_l_b"),this.button.title=`Compartir por ${this.name}`,this.button.style.color=this.color,this.button.style.borderColor=this.color;const n=document.createElement("span");n.classList.add("sh-w_l_b_i"),n.classList.add(`sh-w-i-${this.icon}`);const a=document.createElement("span");a.classList.add("sh-w_l_b_i"),a.classList.add("sh-w-i-external");const s=document.createElement("span");return s.classList.add("sh-w_l_b_t"),s.innerHTML=this.name,this.button.append(n),this.button.append(s),this.button.append(a),this.button.addEventListener("click",n=>{n.preventDefault();let a="";switch(window.dataLayer&&window.dataLayer.push({event:"ga_event",category:"Widget Share",action:"Click Share",label:this.network}),this.network){case"email":a=`mailto:?to=&subject=${this.shareData.title}&body=${this.shareData.url}`;break;case"facebook":a=`https://www.facebook.com/sharer.php?display=popup&u=${this.shareData.url}&quote=${this.shareData.title}`;break;case"twitter":a=`https://twitter.com/intent/tweet?text=${encodeURI(this.shareData.title)}&url=${this.shareData.url}`;break;case"whatsapp":a=(t||e?"whatsapp://send?":"https://web.whatsapp.com/send?")+`text=${this.shareData.title} ${this.shareData.url}`}window.open(a,"shareWidget","width=600,height=400,location=0,menubar=0")}),this.button.addEventListener("mouseenter",()=>{this.button.style.backgroundColor=this.color}),this.button.addEventListener("mouseleave",()=>{this.button.style.removeProperty("background-color")}),this.button}}var e,n,a,s,i,o,r,h=function(t,e,n,a){return new(n||(n=Promise))(function(s,i){function o(t){try{h(a.next(t))}catch(t){i(t)}}function r(t){try{h(a.throw(t))}catch(t){i(t)}}function h(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,r)}h((a=a.apply(t,e||[])).next())})},c=function(t,e,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(t):a?a.value:e.get(t)};e=new WeakSet,n=function(){return document.createRange().createContextualFragment(`<button class="sh-w_b" title="${this.header.title}">\n\t\t\t<span class="sh-w-i-share"></span>\n\t\t</button>`)},a=function(){return h(this,void 0,void 0,function*(){const t="share"in navigator&&"function"==typeof navigator.share;window.dataLayer&&window.dataLayer.push({event:"ga_event",category:"Widget Share",action:"Click Share",label:"Click Icono"+(t?" mobile":"")}),t?yield navigator.share(this.shareData).then(()=>{window.dataLayer&&window.dataLayer.push({event:"ga_event",category:"Widget Share",action:"Click Share",label:"mobile"})}):this.widget.classList.toggle("open")})},s=function(){return document.createRange().createContextualFragment(`<header class="sh-w_h">\n\t\t\t<span class="sh-w_h_t">${this.header.title}</span>\n\t\t</header>`)},i=function(){const e=document.createElement("section");return e.classList.add("sh-w_l"),this.networks.forEach(n=>{const a=new t(n).render();"string"!=typeof a&&e.append(a)}),e},o=function(){return`:root {\n\t\t\t${this.header.background.length?`--share-title-bg: ${this.header.background};`:""}\n\t\t\t${this.button.color.length?`--share-icon-color: ${this.button.color};`:""}\n\t\t}`},r=function(){return h(this,void 0,void 0,function*(){const t=document.createElement("style");yield fetch(`${this.url}@${this.version}/dist/css/${this.package}.css`).then(t=>t.text()).then(n=>{t.append(c(this,e,"m",o).call(this)),t.append(n)}),document.head.append(t)})},window.shareWidget=class{constructor({button:t={color:""},header:n={background:"",color:"",title:""},networks:a=[]}){e.add(this),this.package="share-widget",this.url="https://cdn.jsdelivr.net/gh/miguelcolmenares/share-widget",this.version="2.0.1",this.button={color:(null==t?void 0:t.color)||""},this.header={background:(null==n?void 0:n.background)||"",color:(null==n?void 0:n.color)||"",title:(null==n?void 0:n.title)||""},this.networks=a,this.shareData={title:document.title,url:window.location.href},this.networks.length&&(c(this,e,"m",o).call(this),this.render())}get widget(){return this.$widget}set widget(t){this.$widget=t}render(){return h(this,void 0,void 0,function*(){yield c(this,e,"m",r).call(this);const t=null!==document.querySelector("#js-AnchorGeneralTab"),o=document.createElement("div"),l=document.createElement("div");if(o.classList.add("sh-w"),l.classList.add("sh-w_c"),t&&o.classList.add("pdp"),"share"in navigator&&"function"==typeof navigator.share&&o.classList.add("native"),l.append(c(this,e,"m",s).call(this)),l.append(c(this,e,"m",i).call(this)),o.append(c(this,e,"m",n).call(this)),o.append(l),t){const t=document.querySelector(".js-gallery");t&&t.append(o)}else document.body.append(o);const d=o.querySelector(".sh-w_b");return d&&d.addEventListener("click",t=>h(this,void 0,void 0,function*(){t.preventDefault(),yield c(this,e,"m",a).call(this)})),this.widget=o})}}})();